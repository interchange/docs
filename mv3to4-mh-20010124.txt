Date: Wed, 24 Jan 2001 16:25:46 -0500
From: Mike Heins <mikeh@minivend.com>
Reply-To: interchange-users@lists.akopia.com
To: interchange-users@lists.akopia.com
Subject: Re: [ic] Wisdom of the Elders - upgrading

Quoting Loy Ellen Gross (design@iinc.com):
>
> We've been running on Minivend 3.14 for some time now. We have seven
> catalogs, all with custom databases, running on one server. Now
> looking at upgrading to Interchange. Here's what I've found, please
> correct anything I've got wrong:
>
> - It is possible to run mv and ic simultaneously on one server for
>   testing purposes by using the vlink (unix sockets) call.

Further, it is possible to run as many versions of MV and IC on a system
as you want. I have run up to 12. The only thing that needs be coordinated
is the link -- either by using different TcpMap settings (and corresponding
link compilations) or different vlink progams pointing to the right UNIX-domain
socket.

>
> - Since we have custom databases, we'll likely have problems with
>   the UI, but we can disable it for now by commenting the line
>   #include lib/ui/ui.cfg from interchange.cfg (minivend.cfg)

The UI should work fine for editing database tables. Obviously the
things which are specific to the order transaction setup will break
unless you have the right fields, but even these can be controlled
by configuring the UI.

>
> - We'll need to remove the top line from shipping.asc (this one
>   I don't understand.)

What top line?

>
> - transaction.txt needs an extra field 'archived'
>
> - if [item-price] suddenly turns 0, check PriceField in the catalog.cfg
>
> Questions:
>
> Running the two simultaneously - is that as simple as installing
> in a different directory or is there more to it?

Nope, no more to it other than the link issues already discussed.

>
> Are there any other issues I'm missing?

The least-compatible things in the tag area are [if-field] (needs to be
[if-PREFIX-field], where prefix might be item|loop by default depending
on the tag. Likewise:

        [if-data table col]  --> [if-PREFIX-data table col]
        [on-change mark]     --> [PREFIX-change mark]
        [if-param param]     --> [if-PREFIX-param param]
        [PREFIX-param N]     --> [PREFIX-pos N] (where N is a digit)

Also, you must always surround [search-list] with [search-region]
[/search-region].

Embedded Perl changes quite a bit. While there are the $Safe{values} and
other variable settings, they are automatically shared (no arg="values")
and move to:

        $Safe{values}   --->  $Values
        $Safe{cgi}      --->  $CGI
        $Safe{carts}    --->  $Carts
        $Safe{items}    --->  $Items
        $Safe{config}   --->  $Config
        $Safe{scratch}  --->  $Scratch

There are a number of other objects, see the docs.

Most other issues have more to do with the catalogs skeleton (i.e. simple
or barry or basic or art) than they do the core. For instance, the
"basic" catalog produced for MV3 ran unchanged except for the issues
discussed above.

--
Akopia, Inc., 131 Willow Lane, Floor 2, Oxford, OH  45056
phone +1.513.523.7621 fax 7501 <heins@akopia.com>

Light travels faster than sound. This is why some people appear bright
until you hear them speak. -- unknown

_______________________________________________
Interchange-users mailing list
Interchange-users@lists.akopia.com
http://lists.akopia.com/mailman/listinfo/interchange-users
