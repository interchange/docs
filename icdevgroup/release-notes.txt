RELEASING A NEW VERSION OF INTERCHANGE
$Id: release-notes.txt,v 1.7 2008-04-11 09:16:53 jon Exp $


Pre-release:

Check WHATSNEW against CVS logs, add release date
Update copyright dates as appropriate if new year since last release
Make sure version numbers are correct in all files:
	README
	README.rpm-dist
	Makefile.PL
	scripts/interchange.PL
	dist/standard/products/mv_metadata.asc (ui-version)
	SPECS/interchange.spec
Double-check MANIFEST (create using LC_ALL=C)
Do a clean checkout from CVS to make sure no sticky tags exist in local checkout
Tag or re-tag CVS repository with REL_4_6_3 (or whatever)
Run regression test catalog
Build tarball (and re-build with --owner=0 --group=0)
Test clean install of Standard demo, place order, use admin
Create .tar.bz2 file
Note MD5 and SHA1 sums for .tar.gz and .tar.bz2
Create detached PGP signature of tarballs: gpg -ba interchange-*.tar.*

Somewhat separate steps:

Build RPMs
Build docs tarball & RPMs (for stable releases)
Sign RPMs with PGP key
Have Racke build and sign Debian packages (using same tarball so MD5 sum is identical)

With release candidate:

Have people test the packages


Upload tarball, RPMs, README, WHATSNEW to:
root@ftp.icdevgroup.org:/var/ftp/pub/interchange...

Update interchange-x.y.z.tar.{gz,bz2} and interchange-latest.tar.gz symlinks for stable releases
Rename README to README.txt so Apache will display it
Rename README.rpm-dist to README.txt in rpm directory
Update WHATSNEW file to latest (no need to keep old ones in same branch, as their contents are still included in the latest file)


Update developer website:

catalog/products/news.txt - announcement
catalog/products/variable.txt - version variable
make commit publish
(or make commit restart if necessary)

Then verify changes were made:

http://www.icdevgroup.org/i/dev/index
http://www.icdevgroup.org/i/dev/download
http://www.icdevgroup.org/i/dev/releases


Make announcements at:

interchange-announce@icdevgroup.org (then upload ANNOUNCEMENT-x.y.z.txt to icdevgroup.org ftp area)
Freshmeat.net
SourceForge Interchange project: http://sourceforge.net/projects/interchange/


Update demo stores, one editable, one static:

http://demo.icdevgroup.org/


Post-release:

Fork off stable branch if second version component just became even, e.g. 4.8.0:
tag STABLE_4_8-root, branch STABLE_4_8-branch.
